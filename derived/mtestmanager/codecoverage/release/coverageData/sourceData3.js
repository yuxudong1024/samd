var sourceData3 = {"FileName":"C:\\matlab-simulink-repo\\matlab-test-demo-samd\\Algorithms\\ecgClassify.m","RawFileContents":["function [cout, score, h_rate, b_rate, hr_sig, br_sig] = ecgClassify(ecgSignal, sampleRate)\r","    \r","    persistent jetdata ECGNet\r","    if isempty(jetdata)\r","        jetdata = coder.load('cmap.mat');\r","    end\r","    \r","    if isempty(ECGNet)\r","        ECGNet = coder.loadDeepLearningNetwork('ECGNet.mat');\r","    end\r","    \r","    % Obtain wavelet coefficients from ECG signal\r","    cfs = cwt(ecgSignal,'VoicesPerOctave',48);\r","    \r","    % Obtain scalogram from wavelet coefficients\r","    img = ind2rgb(im2uint8(rescale(abs(cfs))), jetdata.cmap);\r","    imgCl = im2uint8(imresize(img, [227,227]));\r","    \r","    % Classifiation model\r","    executionMode = 'auto';\r","    if gpuDeviceCount > 0\r","        executionMode = 'gpu';\r","    elseif ~isempty(gcp('nocreate'))\r","        executionMode = 'parallel';\r","    end\r","    \r","    [cout, cScore] = classify(ECGNet, imgCl, \"ExecutionEnvironment\", executionMode);\r","    score = max(cScore); \r","    \r","    % Heart rate calculation \r","    [h_rate, hr_sig] = heartRateCalc(ecgSignal, sampleRate); \r","    \r","    % Breath rate calculation \r","    [b_rate, br_sig] = breathRateCalc(ecgSignal, sampleRate);\r","    \r","    % Verify classification with machine learning model \r","    [cout_ML, ~] = verifyML(ecgSignal);\r","    if ~(cout == cout_ML)\r","        cout = 'Error';\r","    end\r","\r","end"],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":106,"StartColumnNumbers":0,"EndColumnNumbers":91,"ContinuedLine":false},"Statement":[{"LineNumber":3,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":4,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":5,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":41,"ContinuedLine":false},{"LineNumber":8,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":9,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":13,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":46,"ContinuedLine":false},{"LineNumber":16,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":17,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":20,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":21,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":22,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":23,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":24,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":27,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":84,"ContinuedLine":false},{"LineNumber":28,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":31,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":60,"ContinuedLine":false},{"LineNumber":34,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":37,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":39,"ContinuedLine":false},{"LineNumber":38,"Hits":106,"StartColumnNumbers":4,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":39,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":23,"ContinuedLine":false}],"Decision":[{"LineNumber":4,"TrueHits":1,"FalseHits":105,"StartColumnNumbers":4,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":8,"TrueHits":1,"FalseHits":105,"StartColumnNumbers":4,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":21,"TrueHits":0,"FalseHits":106,"StartColumnNumbers":4,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":23,"TrueHits":0,"FalseHits":106,"StartColumnNumbers":4,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":38,"TrueHits":6,"FalseHits":100,"StartColumnNumbers":4,"EndColumnNumbers":25,"ContinuedLine":false}],"Condition":[],"MCDC":[]}}